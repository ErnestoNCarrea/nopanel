#########################################################################
# noPanel Apache configuration file (https://docs.nopanel.cc)           #
# DO NOT MODIFY THIS FILE! YOUR CHANGES WILL BE LOST!                   #
#########################################################################

<VirtualHost %NOPANEL_IP%:80>
    ServerName %NOPANEL_DOMAIN_IDN%
    #ServerAlias %NOPANEL_ALIASES_IDN%
    %NOPANEL_APACHE_ALIASES%
    ServerAdmin %NOPANEL_USER_EMAIL%
    DocumentRoot %NOPANEL_DOCROOT%
    Alias /error/ %NOPANEL_USER_HOME%/web/%NOPANEL_DOMAIN%/document_errors/
    CustomLog %NOPANEL_WEB_LOGS%/domains/%NOPANEL_DOMAIN%.bytes bytes
    CustomLog %NOPANEL_WEB_LOGS%/domains/%NOPANEL_DOMAIN%.log combined
    ErrorLog %NOPANEL_WEB_LOGS%/domains/%NOPANEL_DOMAIN%.error.log
    #Define NOPANEL ...
    %NOPANEL_APACHE_DEFINES%
    
    <Directory %NOPANEL_DOCROOT%>
        AllowOverride All
        Options +Includes -Indexes +ExecCGI
    </Directory>
    <Directory %NOPANEL_USER_HOME%/web/%NOPANEL_DOMAIN%/stats>
        AllowOverride All
    </Directory>

    <IfModule mpm_itk.c>
        AssignUserID %NOPANEL_USER% %NOPANEL_USER_GROUP%
    </IfModule>

    <IfDefine NOPANEL_PHP_FPM>
        <FilesMatch \.(php|phar)$>
            SetHandler "proxy:unix:%NOPANEL_PHP_FPM_SOCK%|fcgi://localhost"
        </FilesMatch>
    </IfDefine>
</VirtualHost>

